---
layout: post
title:  "도메인 주도 설계 01 - 동작하는 도메인 모델 만들기"
date:   2019-04-14
desc:  "도메인 주도 설계 01 - 동작하는 도메인 모델 만들기"
keywords: "DDD, Domain"
categories: [Programming]
tags: [DDD, Domain]
icon: icon-html
---

* 모델: 어떤 대상을 단순화하고, 해석하여 문제를 해결하는 것과 관련된 측면을 추상화한 것
* 도메인: 소프트웨어를 사용하는 대상 영역, 사용자의 활동이나 관심사와 관련

> 모델은 개발하는 데 있어서 사용자의 활동이나 관련된 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태이다.

* 도메인 모델: 어떤 특정한 다이어그램이 아니라, 다이어그램이 전달하고자 하는 아이디어이다.
  * 도메인 지식을 엄격하게 구성하고 선택적으로 추상화한 것

<br>

## 도메인 주도 설계에서의 모델의 유용성

도메인 주도 설계에서는 아래의 세 가지 기본적인 쓰임새에 따라 모델을 선택한다.

1. **모델과 핵심 설계는 서로 영향을 주며 구체화된다.**
     * 모델을 의미있게 만들고, 모델의 분석이 최종 산출물에 적용하게끔 보장하는 것은 **모델과 그 구현 간의 긴밀한 연결**이다.
     * 모델과 구현의 연결의 장점으로 계속되는 기능 개선에 도움이 되고 **모델을 이해한 바에 의해 코드를 해석할 수 있다.** 
2. **모델은 모든 팀 구성원이 사용하는 언어의 중추이다.**
    * 모델과 구현이 연결되어 있으므로, 개발자나 도메인 전문가 간에 의사소통하는 데에 있어서 별도의 번역 절차가 필요하지 않다.
3. **모델은 지식의 정수만을 뽑아낸 것이다.**
    * 모델은 도메인 지식을 조직화하고 가장 중요한 요소를 구분하는 팀의 합의된 방식이다.
    * 모델에는 우리가 용어를 선택하고 개념을 분류하며, 분류한 지식을 서로 연관시킬 때 도메인에 관한 사고방식이 담겨 있다.
    * 개발자와 도메인 전문가는 공유 언어를 바탕으로 갖가지 정보를 모델로 만들어낼 때 효과적으로 협업할 수 있다.

> 소프트웨어의 본질은 소프트웨어의 사용자를 위해 **도메인과 관련된 문제를 해결하는 능력에 있다.** 개발자는 업무 지식을 증진하기 위해 **도메인 연구**에 몰두해야 한다. 또한 모델링 기법을 연마하여 도메인 설계에 통달해야 한다.

> 도메인 연구를 통하여 개발자와 도메인 전문가 간의 의사소통을 원활히 한다면, 도메인 전문가는 모델이 의미하는 바와 동작하는 소프트웨어와 모델 간의 관계를 좀더 명확히 이해할 수 있다.

<br>
## 효과적인 모델링 요소

1. **모델과 구현의 연계**: 프로토타입을 토대로 구현과 모델의 연결고리를 만들어 개발 반복 주기 내내 유지해야 한다.
2. **모델을 기반으로 하는 언어 정제**: 도메인 전문가와 개발자가 함께 모델을 정제해나감으로써, 프로젝트가 진행되면서 누구라도 모델에서 바로 용어를 끄집어내어 모델의 구조와 일관되게 문장을 구성하고 의사소통을 할 수 있다.
3. **풍부한 지식이 담긴 모델 개발**
4. **모델의 정제**: 연속적인 개발 반복 주기를 통해 모델을 계속 정제하여 중요한 개념이 녹아들 수 있도록 해야하며, 불필요한 개념은 제거해야 한다.
5. **브레인스토밍과 실험**: 공통 언어를 통해 모델링 결과에 대한 평가와 시나리오 등을 검토하면서 모델의 타당성 여부를 검증해야 한다.

<br>

## 지식 탐구

업무나 사용자 활동에 대한 도메인 영역을 효과적으로 모델링하기 위해 지식을 면밀히 탐구해야 한다. 수많은 모델을 만들어보고 모든 세부 사항에 들어 맞는 추상적인 개념이 나타나면 초기 도메인 모델이 만들어진 것이다.  
지식 탐구는 혼자서 하는 활동이 아니며, 개발자와 도메인 전문가로 구성된 팀원들이 서로 협업을 해야 한다.  

과거 폭포수 개발 방식에서는 일방적으로 지식이 한 방향으로 흘러간다. 개발자는 업무 지식을 쌓을 기회가 제공되지 않으며 도메인에 숨겨진 원리는 알지 못한 채 애플리케이션에서 수행해야 할 사항만 습득하게 된다. 이는 기초적인 역할만 수행하는 소프트웨어를 만들어낼 뿐, 도메인 전문가의 사고방식과 긴밀히 연결되지 않는다.

모든 구성원이 함께 모델을 면밀히 만들어 나가면 도메인 전문가의 피드백, 협업을 통해 도메인 모델을 지속적으로 정제해나갈 수 있다. 이러한 모델은 명료하게 조직화되고 추상화될 수 있으며, 구현을 용이하게 해준다. 개발 과정에서 도메인 전문가의 지속적인 관여로 심층적인 업무 지식을 소프트웨어에 반영할 수 있다.  

