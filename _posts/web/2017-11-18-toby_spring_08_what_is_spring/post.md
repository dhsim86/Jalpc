---
layout: post
title:  "Toby's Spring Chap 08: 스프링이란 무엇인가?"
date:   2017-11-18
desc: "Toby's Spring Chap 08: 스프링이란 무엇인가?"
keywords: "spring, spring boot"
categories: [Web]
tags: [spring, spring boot]
icon: icon-html
---

스프링은 기본적으로 IoC와 DI를 위한 컨테이너로서 동작하지만, 단순히 "스프링은 IoC/DI 프레임워크" 라고는 말할 수 없다. 스프링은 엔터프라이즈 애플리케이션 개발의 전 영역에 걸쳐 다양한 종류의 기술에 관여한다.

스프링에 대해 가장 잘 알려진 정의는 이렇다.

> **자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 프레임워크**

<br>
### 애플리케이션 프레임워크

보통 라이브러리나 프레임워크는 웹 계층을 MVC 구조로 쉽게 만든다거나 포맷과 출력장치를 유연하게 바꿀 있는 애플리케이션 로그 기능, 관계형 DB와 자바 오브젝트를 매핑해주는 ORM 기술을 제공하는 등  **특정 분야나 기술에 특화된 목표를 가지고 개발된다.** 

그러나 스프링은 이와는 다르게 **애플리케이션 프레임워크** 라는 특징을 가지고 있다.

애플리케이션 프레임워크란 특정 계층이나 기술, 분야에 국한되지 않고 **애플리케이션의 전 영역을 포괄하는 범용적인 프레임워크** 를 말한다. 즉, 애플리케이션 개발의 전 과정을 빠르고 편리하게 그리고 효율적으로 진행할 수 있도록 돕는데 일차적인 목표를 두는 프레임워크이다.

---

스프링이 단지 여러 계층의 다양한 기술을 모아두었다고 애플리케이션 프레임워크라고 불리는 것이 아니다. 애플리케이션 전 영역을 관통하는 **일관된 프로그래밍 모델과 핵심 기술을 바탕으로 각 분야의 특정에 맞는 필요를 채워주고 있다.** 따라서 스프링을 활용하면 애플리케이션을 빠르고 효과적으로 개발할 수 있다.

보통 스프링을 IoC/DI 프레임워크나 AOP 툴이라고 보는 건 스프링에 제공하는 핵심 기술에만 주목했기 때문이다.

> 스프링의 일차적인 존재 목적은 핵심 기술에 담긴 프로그래밍 모델을 일관성있게 적용해서, 애플리케이션 전 계층과 전 영역에 전략과 기능을 제공해줌으로써, **애플리케이션을 보다 편리하게 개발하게 해주는 애플리케이션 프레임워크로 사용되는 것이다.**

<br>
### 경량급 (lightweight)

스프링이 경량급이라는 것은 스프링 자체가 가볍다거나 작은 규모의 기술로 만들어졌다는 것이 아닌 **불필요하게 무겁지 않다는 것이다.**

개발환경과 테스트 과정, 코드 등 매우 복잡하게 만들던 EJB에 비해, 스프링은 단순한 개발툴과 기본적인 개발환경으로도 엔터프라이즈 개발에서 필요한 주요한 기능을 갖춘 애플리케이션을 개발할 수 있다.

또한 스프링을 활용해서 만든 비즈니스 로직이 다른 프레임워크를 사용할 때에 비해서, **가볍다고 단순하다는 것이다.** 스프링은 기존 코드에 불필요하게 등장하던 **프레임워크나 서버환경에 의존적인 부분을 제거해주기 때문이다.**

<br>
### 자바 엔터프라이즈 개발을 편하게

스프링은 엔터프라이즈 개발의 복잡함을, 그 근본적인 문제점에 도전하여 해결책을 제시한다. 편리한 애플리케이션 개발이란 **복잡하고 실수하기 쉬운 로우레벨 기술에 많은 신경을 쓸 필요없이, 애플리케이션의 핵심인 비즈니스 로직을 빠르고 효과적으로 구현하는 것을 말한다.**

EJB의 비전과 목표도 바로 이 것이었지만, 다른 차원의 복잡함을 애플리케이션 개발에 끌고오는 바람에 더 어려워지고 복잡해지는 문제가 있었다.

스프링은 개발자들이 자신이 작성하는 비즈니스 로직에 더 많은 관심과 시간을 쏟도록 해준다. 스프링의 기본설정과 적용기술만 잘 선택하고 준비해두면, 개발할 때 스프링과 관련된 코드나 API에 대해 거의 신경 쓸 일이 없다.

<br>
### 오픈소스

스프링은 오픈소스 프로젝트 방식으로 개발되어 왔으며, 아파치 라이언스 2.0을 사용함으로써 비교적 사용이 자유롭다. 그리고 오픈소스 개발의 한계점인 **지속적이고 안정적인 개발이 계속될지가 불확실한 점** 을 개발을 책임지고 진행할 수 있는 전문 기업(스프링 소스)을 만듬으로써 해결하였다.

<br>
## 스프링의 목적

스프링의 목적은 **경량급 프레임워크인 스프링을 활용해서 엔터프라이즈 애플리케이션 개발을 편하게** 하는 것이다.
굳이 스프링을 사용해서 엔터프라이즈 개발을 편하게 하려는 이유는 원래 **엔터프라이즈 개발이란 편하지 않기 때문이다.**

<br>
### 엔터프라이즈 개발의 복잡함

엔터프라이즈 시스템 개발이 복잡한 이유는 크게 두 가지 원인을 생각해볼 수 있다.

**1. 기술적인 제약조건과 요구사항 증가**

엔터프라이즈 시스템이란 **서버에서 동작하며 기업과 조직의 업무를 처리해주는 시스템**을 말한다. 엔터프라이즈 시스템은 많은 사용자의 요청을 동시에 처리해야 하므로 서버의 자원을 효율적으로 공유하고 분배해서 사용할 수 있어야 한다. 또한 보안과 안정성, 확장성 면에도 뛰어나야 하기 때문에 그런 점을 고려한 개발기술이 필요하다.

즉, 엔터프라이즈 시스템을 개발하는 데는 **순수한 비즈니스 로직을 구현하는 것 외에도 기술적으로 고려할 사항이 많다는 것이다.** 따라서 이런 기술적인 문제를 고려하면서 애플리케이션을 개발해야 하는 부담을 안게 된다.

**2. 비즈니스 로직의 복잡함이 증가**

엔터프라이즈 시스템을 이용해 기업의 핵심 업무를 처리하는 비율이 늘어났고, 그만큼 다양하고 복잡한 업무 처리 기능을 엔터프라이즈 시스템이 구현해야 한다는 점이다. 원래 기업 업무란 그 자체로 복잡한데다, 다양한 예외상황도 많고 처리해야 하는 정보의 규모도 상당하다.


요즘에는 경제 흐름과 사회의 변화, 업계의 추이에 따라 **수시로 업무 프로세스를 변경하고 조종하는 것을 상시화할 만큼 변화의 속도가 빨라졌다.** 이런 변화는 이를 뒷받침해주어야 하는 엔터프라이즈 시스템의 변경을 요구할 수밖에 없다. 이는 기능 요구사항과 업무 정책 등이 수시로 바뀌므로 애플리케이션을 자주 수정해주어야 하는 시대가 된 것이다.


**복잡함을 가중시키는 원인**

엔터프라이즈 개발이 실패하는 주요 원인은 **비즈니스 로직의 복잡함과 기술적인 복잡함**이다. 복잡하다는 것은 단지 양이 많고 어렵다는 뜻이 아니다. 세부 요소가 이해하기 힘든 방식으로 얽혀 있고, 그 때문에 쉽게 다루기 어렵다는 의미이다.

또한 엔터프라이즈 시스템 개발이 가장 어려운 이유는 **근본적인 비즈니스 로직과 엔터프라이즈 기술이라는 두 가지 복잡함이 한 데 얽혀있기 때문이다.** 만약 트랜잭션이나 각종 라이브러리, DB 관련 API 등을 비즈니스 로직 구현 코드와 함께 한데 얽혀 있다면 매우 개발이 어려워진다.

> 전통적인 자바 엔터프라이즈 개발 기법은 대부분 비즈니스 로직의 복잡한 구현 코드와 엔터프라이즈 서비스를 이용하는 기술적인 코드가 혼재될 수밖에 없는 방식이었다.

---

<br>
### 복잡함을 해결하려는 도전

**제거될 수 없는 근본적인 복잡함**

근본적으로 엔터프라이즈 개발의 복잡함을 효과적으로 상대할 수 있는 전략과 기법이 필요하다. 문제는 **비즈니스 로직의 복잡함을 효과적으로 다루는 방법과 기술적인 복잡함을 다루는 방법이 다르다는 점이다.** 따라서 두 가지 복잡함이 코드에 한데 어우러져 나타나는 전통적인 개발 방식에서는 효과적으로 복잡함을 다루기가 힘들다.

따라서 가장 먼저 할 일은 **성격이 다른 두 가지 복잡함을 분리하는 것이다.**


**1. 실패한 해결책:EJB**

EJB도 또한 이 두 가지 종류의 복잡함을 분리하는 것이었다. 개발자가 **로우레벨의 기술적인 복잡함에 신경 쓰지 않고 비즈니스 로직을 효과적으로 개발하는 데 더 집중할 수 있게 하자는 목표가 있었다.**

그런데 기존 EJB는 그런 목표를 달성하는데 실패하였다. 기술적인 복잡함을 애플리케이션 핵심 비즈니스 로직에서 분리하는 것은 성공하긴 했지만, 이를 위해 특정 인터페이스를 구현하고 특정 클래스를 상속받고 서버에 종속적인 서비스를 통해서만 접근하고 사용이 가능하게 하는 EJB 개발방식은 잘못된 선택이었다.

애플리케이션 로직에서 기술적인 코드가 제거된 건 사실이지만, **EJB라는 환경과 스펙에 종속되는 코드로 만들어져야 하는 더 큰 부담을 안게 되었다.**

또한 EJB라는 틀 안에서 자바코드를 만들게 강제함으로써 **자바 언어가 원래 갖고 있던 장점마저 잃어버렸다는 것이다.** EJB의 특정 클래스를 상속받게 함으로써 더 이상 상속구조를 적용하지 못하게 만들거나 다형성 적용을 제한한다거나 하는 것들이다.


**2. 비침투적인 방식을 통한 효과적인 해결책:Spring**

스프링은 EJB의 실패를 교훈으로 삼아 출발했다. EJB의 목표와 마찬가지로 **기술적인 복잡함을 애플리케이션 핵심 로직의 복잡함에서 제거하는 데 목표를 뒀다.**

그러나 EJB처럼 개발자의 코드에 난입해서 지저분하고 복잡한 코드를 만들어버리는 실수를 하지는 않았다. EJB처럼 **어떤 기술을 적용했을 때 그 기술과 관련된 코드나 규약 등이 코드에 등장하는 경우를 침투적인(invasive) 기술이라고 한다.** 꼭 필요해서 사용하기는 하지만 그렇다고 그 기술을 위해 특정 클래스나 인터페이스, API 등의 코드가 마구 등장한다면 그것은 침투적인 기술이 되며 복잡함을 가중시키게 된다.

반면에, **비침투적인(non-invasive) 기술은 기술의 적용 사실에 코드에 직접 반영되지 않는다는 특징이 있다.** 기술을 적용해야하므로 필요한 작업을 해줘야 하겠지만 애플리케이션 코드에 갑자기 등장하거나 코드의 설계와 구현 방식을 제한하지 않는다.

스프링이 성공할 수 있었던 것은 바로 **비침투적인 기술이라는 전략을 택했기 때문이다.** 스프링을 사용하면 **기술적인 복잡함과 비즈니스 로직을 다루는 코드를 깔끔하게 분리할 수 있다. 중요한 것은 그 과정에서 스프링 스스로가 애플리케이션 코드에 불필요하게 나타나지 않도록 하는 것이다.**

이를 통해 성격이 다른 복잡함을 깔끔하게 분리해주어 각각의 복잡함을 효과적으로 상대할 수 있는 기반이 마련되었다.

---

<br>
### 복잡함을 상대하는 스프링의 전략