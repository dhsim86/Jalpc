---
layout: post
title:  "Effective Java 02 - 객체 생성과 파괴"
date:   2019-01-13
desc:  "Effective Java 02 - 객체 생성과 파괴"
keywords: "java"
categories: [Java]
tags: [java]
icon: icon-html
---

# 객체 생성과 파괴

<br>
## 01. 생성자 대신 정적 팩터리 메서드를 고려하라.

클라이언트가 클래스의 인스턴스를 얻는 전통적인 수단은 Public 생성자이지만, **정적 팩토리 메소드**를 통해 클래스 인스턴스를 생성할 수도 있다.

```java
public static Boolean valueOf(boolean b) {
    return b ? Boolean.TRUE : Boolean.FALSE
}
```

<br>
### 정적 팩터리 메서드 장점

1. 이름을 가질 수 있다
    - 생성자 사용시 매개변수 및 생성자 자체만으로는 객체의 특성을 제대로 설명하지 못한다.
      - 하나의 시그니처로는 생성자를 하나만 만들 수 있다. 입력 매개변수들의 순서를 다르게 한 생성자를 새로 추가할 수 있지만 각 생성자들이 어떤 역할을 하는지 정확히 기억할 수 없다.
    - 정적 팩터리 사용시 이름만 잘 지으면 반환될 객체의 특성을 쉽게 묘사할 수 있다.
      - 한 클래스에 시그니처가 같은 생성자가 여러 개 필요할 것 같으면, 생성자 사용하는 대신에 팩터리 메소를 고려한다.

> 메소드 시그니처: 메소드 오버로딩의 핵심으로 메소드의 선언부에 명시되는 **메소드 이름과 입력 매개변수의 타입으로 구성된다.** 리턴 값의 타입이나 public, private와 같은 엑세스 수준, abstract, final과 같은 선택적 한정자는 포함하지 않는다. 메소드 오버로딩은 서로 다른 시그니처를 갖는 여러 메소드를 같은 이름으로 정의하는 것이다.

2. 호출될 때마다 인스턴스를 새로 생성할 필요는 없다.
    - 메서드 내부에서 미리 인스턴스를 만들어놓거나, 기존에 만들어둔 인스턴스를 캐싱하여 재활용시킬 수 있다.
      - 플라이웨이트 패턴과 비슷한 기법이다.
    - 반복되는 요청에 같은 객체를 반환하는 식으로, 인스턴스 통제가 가능하다.

3. 반환 타입의 하위 타입 객체를 반환할 수 있다.
    - 반환될 객체의 클래스를 자유롭게 선택하여 유연성을 확보할 수 있다.

4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.
    - 반환 타입의 하위 타입이기만 하면, 매개변수에 따른 적절한 하위 클래스의 인스턴스를 반환할 수도 있다.

5. 정적 팩터리 메소드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.